class DBHelper{static get DATABASE_URL(){return"http://localhost:1337"}static fetchRestaurants(t){const e="/restaurants";fetch(`${DBHelper.DATABASE_URL}${e}`).then(t=>t.json()).then(e=>{t(null,e)}).catch(()=>{t(`Request failed (GET ${e})`,null)})}static fetchRestaurantById(t,e){const a=`/restaurants/${t}`;fetch(`${DBHelper.DATABASE_URL}${a}`).then(t=>t.json()).then(t=>{e(null,t)}).catch(()=>{e(`Request failed (GET ${a})`,null)})}static fetchReviewsByRestaurantId(t,e){const a=`/reviews/?restaurant_id=${t}`;fetch(`${DBHelper.DATABASE_URL}${a}`).then(t=>t.json()).then(t=>{e(null,t)}).catch(()=>{e(`Request failed (GET ${a})`,null)})}static fetchRestaurantByCuisine(t,e){DBHelper.fetchRestaurants((a,n)=>{if(a)e(a,null);else{const a=n.filter(e=>e.cuisine_type==t);e(null,a)}})}static fetchRestaurantByNeighborhood(t,e){DBHelper.fetchRestaurants((a,n)=>{if(a)e(a,null);else{const a=n.filter(e=>e.neighborhood==t);e(null,a)}})}static fetchRestaurantByCuisineAndNeighborhood(t,e,a){DBHelper.fetchRestaurants((n,l)=>{if(n)a(n,null);else{let n=l;"all"!=t&&(n=n.filter(e=>e.cuisine_type==t)),"all"!=e&&(n=n.filter(t=>t.neighborhood==e)),a(null,n)}})}static fetchNeighborhoods(t){DBHelper.fetchRestaurants((e,a)=>{if(e)t(e,null);else{const e=a.map((t,e)=>a[e].neighborhood),n=e.filter((t,a)=>e.indexOf(t)==a);t(null,n)}})}static fetchCuisines(t){DBHelper.fetchRestaurants((e,a)=>{if(e)t(e,null);else{const e=a.map((t,e)=>a[e].cuisine_type),n=e.filter((t,a)=>e.indexOf(t)==a);t(null,n)}})}static urlForRestaurant(t){return`./restaurant.html?id=${t.id}`}static imageUrlForRestaurant(t){return`/img/${t.photograph||10}.jpg`}static mapMarkerForRestaurant(t,e){return new google.maps.Marker({position:t.latlng,title:t.name,url:DBHelper.urlForRestaurant(t),map:e,animation:google.maps.Animation.DROP})}}